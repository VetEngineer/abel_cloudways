<?php 

if(!function_exists('festiva_get_post_grid')){
    function festiva_get_post_grid($posts = [], $settings = []){ 
        if (empty($posts) || !is_array($posts) || empty($settings) || !is_array($settings)) {
            return false;
        }
        switch ($settings['layout']) {
            case 'post-1':
            festiva_get_post_grid_layout1($posts, $settings);
            break;
            case 'event-1':
            festiva_get_event_grid_layout1($posts, $settings);
            break;
            case 'event-2':
            festiva_get_event_grid_layout1($posts, $settings);
            break;
            case 'event-3':
            festiva_get_event_grid_layout3($posts, $settings);
            break;

            default:
            return false;
            break;
        }
    }
}

// Start Post Grid
//--------------------------------------------------

function festiva_get_post_grid_layout1($posts = [], $settings = []){ 
    extract($settings);
    
    $images_size = !empty($img_size) ? $img_size : '410x514';

    if (is_array($posts)):
        foreach ($posts as $key => $post):
            $item_class = "pxl-grid-item col-xl-{$col_xl} col-lg-{$col_lg} col-md-{$col_md} col-sm-{$col_sm} col-{$col_xs}";
            if(isset($grid_masonry) && !empty($grid_masonry[$key]) && (count($grid_masonry) > 1)) {
                $col_xl_m = 12 / $grid_masonry[$key]['col_xl_m'];
                $col_lg_m = 12 / $grid_masonry[$key]['col_lg_m'];
                $col_md_m = 12 / $grid_masonry[$key]['col_md_m'];
                $col_sm_m = 12 / $grid_masonry[$key]['col_sm_m'];
                $col_xs_m = 12 / $grid_masonry[$key]['col_xs_m'];
                $item_class = "pxl-grid-item col-xl-{$col_xl_m} col-lg-{$col_lg_m} col-md-{$col_md_m} col-sm-{$col_sm_m} col-{$col_xs_m}";
                $img_size_m = $grid_masonry[$key]['img_size_m'];
                if(!empty($img_size_m)) {
                    $images_size = $img_size_m;
                }
            } elseif (!empty($img_size)) {
                $images_size = $img_size;
            }

            if(!empty($tax))
                $filter_class = pxl_get_term_of_post_to_class($post->ID, array_unique($tax));
            else 
                $filter_class = '';

            $img_id = get_post_thumbnail_id($post->ID);
            if($img_id) {
                $img = pxl_get_image_by_size( array(
                    'attach_id'  => $img_id,
                    'thumb_size' => $images_size,
                    'class' => 'no-lazyload',
                ));
                $thumbnail = $img['thumbnail'];
            } else {
                $thumbnail = get_the_post_thumbnail($post->ID, $images_size);
            }
            $author = get_user_by('id', $post->post_author);  
            $author_id = get_the_author_meta('ID');
            $avatar = get_avatar($post->post_author, 100);
            ?>

            <div class="<?php echo esc_attr($item_class . ' ' . $filter_class); ?>">
                <div class="pxl-item--inner <?php echo esc_attr($pxl_animate); ?>" data-wow-duration="1.2s">
                    <?php if (has_post_thumbnail($post->ID) && wp_get_attachment_image_src(get_post_thumbnail_id($post->ID), false)): ?>
                    <div class="pxl-item--featured">
                        <a href="<?php echo esc_url(get_permalink( $post->ID )); ?>"></a>
                        <?php echo wp_kses_post($thumbnail); ?>
                    </div>
                <?php endif; ?>
                <div class="pxl-item--holder"> 
                    <div class="pxl-item--meta">
                        <?php if ($show_date): ?>
                            <span class="pxl-item--date <?php echo esc_attr($background_schedule_type); ?>"><?php $date_formart = get_option('date_format'); echo ('<i class="flaticon flaticon-calendar-2"></i>'); echo get_the_date('F d, Y', $post->ID); ?></span>
                        <?php endif ?>
                        <?php if($show_author =='true'): ?>
                            <div class="pxl-item--author">
                                <div class="img-author">                                    
                                    <?php echo wp_kses_post($avatar); ?>
                                </div>                
                                <div class="info-author">
                                    <div class="name"><?php the_author_posts_link(); ?></div>
                                    <?php festiva_get_user_theme(); ?>
                                </div>
                            </div>
                        <?php endif ?>
                    </div>
                    
                    <h5 class="pxl-item--title"><a href="<?php echo pxl_print_html(get_permalink( $post->ID )); ?>"><?php echo pxl_print_html(get_the_title($post->ID)); ?></a></h5>
                    <div class="item--content">
                        <?php echo wp_trim_words( $post->post_excerpt, $num_words , $more = null ); ?>
                    </div>
                    <?php if ($show_button == 'true'): ?>
                        <div class="pxl-item--readmore">
                            <a class="btn-readmore" href="<?php echo esc_url(get_permalink( $post->ID )); ?>">
                                <span>
                                    <?php if(!empty($button_text)) {
                                        echo esc_attr($button_text);
                                    } else {
                                        echo esc_html__('Read Article', 'festiva');
                                    } ?>
                                </span>
                                <i class="flaticon flaticon-arrow-2"></i>
                            </a>
                        </div>
                    <?php endif ?>
                </div>
            </div>
        </div>
        <?php
    endforeach;
endif;
}

// End Post Grid
//--------------------------------------------------



//-------------------------------------------------
// Star Event Grid


function festiva_get_event_grid_layout1($posts = [], $settings = []){ 
    extract($settings);
    
    $images_size = !empty($img_size) ? $img_size : '441x374';

    if (is_array($posts)):
        foreach ($posts as $key => $post):
            $item_class = "pxl-grid-item col-xl-{$col_xl} col-lg-{$col_lg} col-md-{$col_md} col-sm-{$col_sm} col-{$col_xs}";
            if(isset($grid_masonry) && !empty($grid_masonry[$key]) && (count($grid_masonry) > 1)) {
                $col_xl_m = 12 / $grid_masonry[$key]['col_xl_m'];
                $col_lg_m = 12 / $grid_masonry[$key]['col_lg_m'];
                $col_md_m = 12 / $grid_masonry[$key]['col_md_m'];
                $col_sm_m = 12 / $grid_masonry[$key]['col_sm_m'];
                $col_xs_m = 12 / $grid_masonry[$key]['col_xs_m'];
                $item_class = "pxl-grid-item col-xl-{$col_xl_m} col-lg-{$col_lg_m} col-md-{$col_md_m} col-sm-{$col_sm_m} col-{$col_xs_m}";
                
                $img_size_m = $grid_masonry[$key]['img_size_m'];
                if(!empty($img_size_m)) {
                    $images_size = $img_size_m;
                }
            } elseif (!empty($img_size)) {
                $images_size = $img_size;
            }

            if(!empty($tax))
                $filter_class = pxl_get_term_of_post_to_class($post->ID, array_unique($tax));
            else 
                $filter_class = '';
            $img_id = get_post_thumbnail_id($post->ID);
            if($img_id) {
                $img = pxl_get_image_by_size( array(
                    'attach_id'  => $img_id,
                    'thumb_size' => $images_size,
                    'class' => 'no-lazyload',
                ));
                $thumbnail = $img['thumbnail'];
            } else {
                $thumbnail = get_the_post_thumbnail($post->ID, $images_size);
            }
            $event_time = get_post_meta($post->ID, 'event_time', true);
            $event_date = get_post_meta($post->ID, 'event_date', true);
            $event_summary  = get_post_meta($post->ID, 'event_summary',true);
            $event_category  = get_post_meta($post->ID, 'event_category',true);
            
            $avatar = get_avatar($post->post_author, 100);
            $author = get_user_by('id', $post->post_author);  
            $author_id = get_the_author_meta('ID');
            $event_category = !empty($event_category) ? $event_category : 'conference';
            
            ?>

            
            <div class="<?php echo esc_attr($item_class . ' ' . $filter_class); ?>">
                <div class="pxl-item--holder <?php echo esc_attr($style_layout) ?>">
                    <?php if (has_post_thumbnail($post->ID) && wp_get_attachment_image_src(get_post_thumbnail_id($post->ID), false)): ?>
                    <div class="pxl-item--featured">
                        <a href="<?php echo esc_url(get_permalink( $post->ID )); ?>"></a>
                        <?php echo wp_kses_post($thumbnail); ?>
                        <?php if ($show_category == 'true'): ?>
                            <div class="pxl-btn-category">
                                <span>
                                    <?php echo esc_attr($event_category); ?>
                                </span>
                            </div>
                        <?php endif ?>
                    </div>
                <?php endif; ?> 
                <div class="meta-content">
                    <?php if ($show_date == 'true') : ?>
                        <div class="pxl-schedule">
                            <?php if (!empty($event_time)) : ?>
                                <div class="pxl-event--time">
                                    <i class="far fa-clock"></i>
                                    <?php echo pxl_print_html($event_time);?>
                                </div>
                            <?php endif;?>
                            <?php if (!empty($event_date)) : ?>
                                <div class="pxl-event--date">
                                    <i class="far fa-calendar-alt"></i>
                                    <?php echo pxl_print_html($event_date);?> 
                                </div>
                            <?php endif;?>
                        </div>
                    <?php endif; ?>     

                    <div class="pxl-inner">
                        <h3 class="pxl-item--title <?php echo pxl_print_html($style_color_title) ?>">
                            <a href="<?php if(!empty($event_external_link)) { echo esc_url($event_external_link); } else { echo esc_url(get_permalink( $post->ID )); } ?>"><?php echo pxl_print_html(get_the_title($post->ID)); ?></a>
                        </h3>

                        <div class="pxl-content">       
                            <?php if($show_author =='true'): ?>
                                <div class="pxl-item--author">
                                    <div class="img-author">                                    
                                        <?php echo wp_kses_post($avatar); ?>
                                    </div>

                                    <div class="info-author">
                                        <div class="name"><?php the_author_posts_link(); ?></div>
                                        <?php festiva_get_user_theme(); ?>
                                    </div>
                                </div>
                            <?php endif; ?>
                            <?php if(!empty($event_summary)) : ?>
                                <div class="pxl-item--summary">
                                    <?php echo pxl_print_html($event_summary); ?>
                                </div>
                            <?php endif; ?>
                        </div>
                    </div>

                    <?php if ($show_button == 'true') : ?>
                        <div class="pxl-item--button button ">
                            <a href="<?php if(!empty($event_external_link)) { echo esc_url($event_external_link); } else { echo esc_url(get_permalink( $post->ID )); } ?>">
                             <?php if ($button_text): ?>
                                 <?php echo pxl_print_html($button_text) ?>
                             <?php else : ?>
                                <?php echo pxl_print_html('Learn More','festiva'); ?>
                            <?php endif ?>
                        </a>
                    </div> 
                <?php endif; ?>     


                <div class="pxl-bg--content">
                    <svg class="svg" xmlns="http://www.w3.org/2000/svg" width="724" height="377" viewBox="0 0 724 377" fill="none">
                        <path d="M152.439 82.2091L13 196.977L217.511 144.81L43.9866 360L592.448 17L418.924 320.875L704 133.072" stroke="url(#paint0_linear_5151_2483)" stroke-width="40" stroke-linecap="round"/>
                        <defs>
                            <linearGradient id="paint0_linear_5151_2483" x1="13" y1="188.5" x2="704" y2="188.5" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E100A8"/>
                                <stop offset="1" stop-color="#71009C"/>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
            </div>

            

            <div class="pxl-bg--holder">
                <svg width="339" height="343" viewBox="0 0 339 343" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g opacity="0.4">
                        <path d="M227.769 68.1003C260.323 68.1003 268.032 105.075 272.751 127.704C273.354 130.601 273.924 133.339 274.479 135.611C276.918 145.648 269.652 152.433 261.872 154.493C251.72 157.171 238.785 153.048 234.38 137.644C230.316 123.421 216.749 115.585 205.848 109.287C195.841 103.507 187.196 98.5129 189.267 90.528C193.461 74.3459 220.25 68.7744 221.385 68.5472L221.419 68.5435C223.635 68.2418 225.754 68.1003 227.769 68.1003ZM256.025 154.191C257.928 154.191 259.809 153.942 261.6 153.469C268.9 151.539 275.723 145.204 273.451 135.856C272.896 133.566 272.323 130.821 271.716 127.916C266.781 104.252 258.517 64.6479 221.579 69.5789C220.786 69.7427 194.276 75.3999 190.288 90.7887C188.418 97.9952 196.343 102.572 206.377 108.371C217.441 114.762 231.21 122.717 235.393 137.35C238.826 149.346 247.645 154.191 256.025 154.191Z" fill="url(#paint0_linear_5151_2486)"/>
                        <g opacity="0.9524">
                            <path d="M227.103 57.7766C243.613 57.7766 256.711 65.7279 266.115 81.4891C275.217 96.7438 279.303 116.33 282.286 130.631C283.027 134.177 283.724 137.529 284.402 140.314C287.366 152.519 278.528 160.764 269.065 163.267C256.7 166.537 240.939 161.506 235.572 142.731C230.578 125.264 213.942 115.652 200.575 107.932C188.371 100.878 177.827 94.7886 180.334 85.1128C185.447 65.3815 218.169 58.5772 219.558 58.2979L219.591 58.2942C222.165 57.9479 224.675 57.7766 227.103 57.7766ZM261.94 163.174C264.287 163.174 266.599 162.869 268.808 162.284C277.81 159.904 286.219 152.091 283.415 140.556C282.733 137.756 282.033 134.396 281.292 130.84C275.236 101.816 265.095 53.2366 219.744 59.3035C218.861 59.486 186.233 66.4206 181.32 85.3736C179.008 94.3007 188.75 99.9281 201.085 107.053C214.612 114.866 231.446 124.59 236.552 142.452C240.768 157.211 251.624 163.174 261.94 163.174Z" fill="url(#paint1_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.9048">
                            <path d="M226.631 47.4416C246.128 47.4416 261.599 56.8305 272.705 75.4445C283.464 93.4776 288.295 116.643 291.825 133.558C292.7 137.759 293.527 141.726 294.328 145.022C297.818 159.386 287.408 169.099 276.261 172.045C261.673 175.9 243.093 169.967 236.765 147.826C230.844 127.115 211.138 115.73 195.303 106.58C180.901 98.2596 168.458 91.0717 171.404 79.7052C177.437 56.4246 217.328 48.138 217.73 48.0561L217.764 48.0524C220.803 47.6427 223.764 47.4416 226.631 47.4416ZM267.856 172.157C270.641 172.157 273.394 171.792 276.012 171.099C286.712 168.273 296.711 158.977 293.378 145.253C292.574 141.942 291.743 137.964 290.868 133.76C283.695 99.3769 271.695 41.8403 217.909 49.0207C216.948 49.2181 178.189 57.4301 172.354 79.9509C169.594 90.595 181.158 97.2726 195.794 105.73C211.783 114.967 231.678 126.464 237.707 147.554C242.713 165.077 255.603 172.157 267.856 172.157Z" fill="url(#paint2_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.8571">
                            <path d="M226.163 37.1029C248.647 37.1029 266.486 47.9332 279.294 69.3963C291.711 90.2076 297.29 116.956 301.364 136.486C302.377 141.335 303.331 145.919 304.258 149.726C308.273 166.254 296.292 177.431 283.462 180.823C266.658 185.267 245.254 178.425 237.962 152.917C231.113 128.959 208.335 115.801 190.03 105.228C173.427 95.6377 159.093 87.3548 162.474 74.2975C169.428 47.4677 215.441 37.9074 215.903 37.818L215.933 37.8143C219.441 37.3375 222.853 37.1029 226.163 37.1029ZM273.771 181.136C276.996 181.136 280.184 180.712 283.216 179.911C295.618 176.634 307.204 165.859 303.338 149.949C302.407 146.124 301.45 141.536 300.437 136.679C292.147 96.9337 278.281 30.4104 216.071 38.7416C215.043 38.9539 170.143 48.4434 163.383 74.5321C160.18 86.893 173.558 94.6247 190.496 104.408C208.946 115.067 231.91 128.333 238.863 152.657C244.662 172.943 259.585 181.136 273.771 181.136Z" fill="url(#paint3_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.8095">
                            <path d="M225.689 26.7644C251.16 26.7644 271.368 39.0322 285.878 63.3518C299.952 86.9452 306.279 117.272 310.898 139.413C312.045 144.914 313.128 150.109 314.179 154.433C318.719 173.125 305.166 185.766 290.649 189.602C271.629 194.626 247.398 186.883 239.145 158.008C231.369 130.806 205.519 115.872 184.748 103.872C165.948 93.0121 149.714 83.6343 153.535 68.8861C161.408 38.5071 213.541 27.6768 214.07 27.5688L214.099 27.5651C218.077 27.0288 221.939 26.7644 225.689 26.7644ZM279.684 190.119C283.349 190.119 286.973 189.639 290.421 188.726C304.525 184.998 317.698 172.746 313.303 154.645C312.249 150.307 311.166 145.108 310.015 139.596C305.408 117.514 299.103 87.273 285.103 63.8136C268.433 35.874 245.253 24.31 214.237 28.4552C213.142 28.6824 162.105 39.4456 154.414 69.1096C150.764 83.1911 165.963 91.9693 185.203 103.086C206.115 115.168 232.14 130.203 240.017 157.755C246.605 180.809 263.566 190.119 279.684 190.119Z" fill="url(#paint4_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.7619">
                            <path d="M225.215 16.4295C253.673 16.4295 276.253 30.1386 292.461 57.3073C308.196 83.679 315.269 117.585 320.431 142.34C321.716 148.493 322.926 154.303 324.099 159.137C329.164 179.989 314.04 194.097 297.839 198.376C276.607 203.989 249.55 195.341 240.332 163.096C231.629 132.65 202.71 115.939 179.47 102.513C157.608 89.8837 140.339 79.9063 144.599 63.4673C153.392 29.5389 211.648 17.4387 212.236 17.3196L212.262 17.3158C216.709 16.7237 221.029 16.4295 225.215 16.4295ZM285.597 199.102C289.705 199.102 293.761 198.562 297.623 197.542C313.425 193.367 328.192 179.632 323.261 159.342C322.084 154.496 320.87 148.675 319.585 142.515C314.435 117.82 307.381 83.9956 291.72 57.7467C273.061 26.4738 247.114 13.5282 212.4 18.1761C211.242 18.4145 154.059 30.4552 145.445 63.6908C141.352 79.4892 158.368 89.3213 179.909 101.768C203.283 115.272 232.374 132.076 241.174 162.861C248.548 188.671 267.542 199.102 285.597 199.102Z" fill="url(#paint5_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.7143">
                            <path d="M224.865 6.08331C239.658 6.08331 253.032 9.40167 264.763 16.0011C278 23.446 289.537 35.3116 299.053 51.259C316.445 80.4091 324.263 117.894 329.972 145.268C331.391 152.072 332.732 158.496 334.032 163.844C339.622 186.861 322.922 202.432 305.042 207.158C292.729 210.409 279.344 208.979 268.316 203.229C255.423 196.506 246.161 184.388 241.531 168.191C231.9 134.497 199.909 116.013 174.204 101.165C150.051 87.2133 130.979 76.1931 135.676 58.0633C145.389 20.5857 209.767 7.21179 210.415 7.08145L210.441 7.07771C215.387 6.41479 220.199 6.08331 224.865 6.08331ZM291.515 208.082C296.062 208.082 300.554 207.486 304.829 206.353C322.334 201.728 338.687 186.51 333.227 164.038C331.927 158.679 330.583 152.247 329.164 145.435C323.466 118.121 315.663 80.7145 298.342 51.6836C277.694 17.0775 248.976 2.75752 210.564 7.89705C209.342 8.14658 146.014 21.4646 136.476 58.2719C131.936 75.7909 150.77 86.6696 174.617 100.446C200.452 115.373 232.604 133.946 242.328 167.96C250.499 196.536 271.527 208.082 291.515 208.082Z" fill="url(#paint6_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.6667">
                            <path d="M224.403 -4.25534C240.604 -4.25534 255.244 -0.624146 268.093 6.60471C282.588 14.7572 295.221 27.7476 305.638 45.2108C324.691 77.1429 333.253 118.207 339.51 148.191C341.063 155.647 342.534 162.69 343.957 168.544C350.076 193.724 331.801 210.759 312.237 215.929C298.763 219.489 284.111 217.925 272.041 211.627C257.929 204.268 247.792 191.006 242.723 173.274C232.165 136.337 197.1 116.08 168.926 99.8052C142.487 84.5319 121.605 72.4651 126.741 52.6482C137.374 11.6176 207.871 -3.02631 208.582 -3.16783L208.609 -3.17155C214.02 -3.89407 219.29 -4.25534 224.403 -4.25534ZM297.425 217.065C302.412 217.065 307.34 216.409 312.032 215.169C331.238 210.093 349.178 193.397 343.186 168.738C341.759 162.865 340.288 155.819 338.732 148.359C332.49 118.43 323.939 77.4408 304.956 45.6242C282.32 7.68477 250.842 -8.00941 208.724 -2.37828C207.45 -2.11758 137.97 12.4779 127.505 52.8567C122.518 72.0927 143.173 84.0254 169.321 99.1311C197.618 115.481 232.835 135.827 243.483 173.069C252.44 204.402 275.504 217.065 297.425 217.065Z" fill="url(#paint7_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.619">
                            <path d="M223.948 -14.5939C241.553 -14.5939 257.463 -10.6461 271.422 -2.79156C287.172 6.06853 300.899 20.1873 312.225 39.1663C332.936 73.8767 342.247 118.524 349.047 151.119C350.738 159.226 352.336 166.88 353.881 173.252C360.525 200.596 340.679 219.094 319.428 224.711C304.788 228.58 288.874 226.878 275.76 220.04C260.431 212.044 249.419 197.635 243.91 178.373C232.428 138.192 194.295 116.159 163.652 98.4571C134.926 81.8616 112.234 68.7521 117.809 47.2443C123.854 23.9265 147.734 8.67178 166.706 -0.016983C187.219 -9.41338 206.563 -13.3686 206.757 -13.4058L206.783 -13.4095C212.667 -14.1991 218.391 -14.5939 223.948 -14.5939ZM303.343 226.044C308.773 226.044 314.136 225.329 319.238 223.981C340.142 218.454 359.673 200.279 353.151 173.431C351.602 167.047 350.004 159.387 348.31 151.275C341.52 118.728 332.224 74.1561 311.581 39.5536C286.956 -1.71899 252.715 -18.806 206.895 -12.6647C205.565 -12.3928 129.936 3.47641 118.543 47.4342C113.113 68.3871 135.582 81.37 164.032 97.8053C194.791 115.574 233.073 137.692 244.64 178.164C254.39 212.268 279.485 226.044 303.343 226.044Z" fill="url(#paint8_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.5714">
                            <path d="M223.487 -24.9326C242.496 -24.9326 259.676 -20.6683 274.749 -12.1918C291.757 -2.62408 306.58 12.6194 318.811 33.1179C341.179 70.6067 351.238 118.833 358.582 154.046C360.407 162.802 362.135 171.073 363.808 177.959C370.977 207.467 349.558 227.429 326.624 233.489C310.822 237.664 293.642 235.828 279.486 228.446C262.939 219.817 251.051 204.26 245.103 183.464C232.69 140.035 191.485 116.229 158.376 97.105C127.36 79.1875 102.861 65.0314 108.876 41.8328C115.401 16.6603 141.188 0.191452 161.672 -9.19005C183.827 -19.335 204.717 -23.6068 204.926 -23.6515L204.948 -23.6552C211.301 -24.5043 217.488 -24.9326 223.487 -24.9326ZM309.254 235.027C315.124 235.027 320.922 234.256 326.442 232.796C349.048 226.822 370.165 207.165 363.111 178.127C361.435 171.233 359.711 162.954 357.882 154.191C350.549 119.03 340.505 70.8711 318.196 33.4866C291.582 -11.1192 254.574 -29.5805 205.056 -22.9476C203.696 -22.672 121.892 -5.52534 109.569 42.0078C103.692 64.6813 127.982 78.7145 158.733 96.4794C191.954 115.671 233.297 139.558 245.792 183.263C256.332 220.133 283.463 235.027 309.254 235.027Z" fill="url(#paint9_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.5238">
                            <path d="M223.031 -35.2675C243.443 -35.2675 261.894 -30.6903 278.079 -21.5844C296.343 -11.3091 312.265 5.06293 325.4 27.0772C349.426 67.348 360.234 119.149 368.122 156.977C370.084 166.384 371.939 175.274 373.734 182.667C381.429 214.338 358.435 235.764 333.821 242.271C316.853 246.755 298.407 244.781 283.215 236.856C265.45 227.59 252.683 210.89 246.3 188.555C232.96 141.882 188.681 116.304 153.107 95.7495C119.804 76.5098 93.4997 61.3109 99.9501 36.4215C106.956 9.39427 134.646 -8.28867 156.641 -18.3629C180.436 -29.2602 202.875 -33.8485 203.098 -33.8969L203.121 -33.9006C209.943 -34.8131 216.584 -35.2675 223.031 -35.2675ZM315.17 244.01C321.479 244.01 327.713 243.183 333.646 241.611C357.954 235.187 380.661 214.052 373.075 182.827C371.276 175.42 369.421 166.526 367.459 157.115C359.578 119.335 348.789 67.5976 324.819 27.4236C296.217 -20.5118 256.441 -40.3511 203.221 -33.2266C202.618 -33.1036 180.428 -28.5116 156.909 -17.7409C135.052 -7.73001 107.54 9.82632 100.602 36.5891C94.2818 60.9795 120.389 76.0629 153.442 95.1611C189.125 115.775 233.533 141.432 246.948 188.369C258.277 227.999 287.442 244.01 315.17 244.01Z" fill="url(#paint10_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.4762">
                            <path d="M222.568 -45.6061C244.389 -45.6061 264.109 -40.7161 281.405 -30.9808C300.927 -19.9979 317.944 -2.49738 331.984 21.0327C357.671 64.0818 369.22 119.466 377.655 159.904C379.752 169.964 381.737 179.468 383.655 187.375C387.32 202.458 384.672 216.659 375.998 228.446C368.129 239.139 355.704 247.168 341.012 251.049C322.878 255.842 303.169 253.73 286.935 245.265C267.949 235.362 254.31 217.515 247.487 193.65C233.216 143.733 185.869 116.378 147.825 94.3976C112.232 73.8358 84.1213 57.5941 91.0113 31.0138C98.4971 2.13193 128.094 -16.7652 151.602 -27.5321C177.039 -39.1817 201.027 -44.0866 201.265 -44.135L201.288 -44.1387C208.583 -45.1182 215.682 -45.6061 222.568 -45.6061ZM321.083 252.989C327.835 252.989 334.502 252.103 340.848 250.427C366.855 243.552 391.152 220.938 383.033 187.524C381.108 179.606 379.126 170.098 377.026 160.031C368.602 119.637 357.06 64.3165 331.433 21.3567C300.845 -29.9119 258.303 -51.1367 201.381 -43.5093C200.774 -43.3864 177.028 -38.4778 151.859 -26.9474C128.481 -16.2363 99.052 2.53784 91.6332 31.1702C84.8661 57.2775 112.791 73.4149 148.149 93.8389C186.294 115.876 233.767 143.301 248.106 193.468C260.225 235.861 291.423 252.989 321.083 252.989Z" fill="url(#paint11_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.4286">
                            <path d="M222.112 -55.9448C245.337 -55.9448 266.327 -50.7382 284.736 -40.3809C305.514 -28.6904 323.629 -10.0652 338.571 14.9807C365.914 60.8082 378.212 119.771 387.191 162.824C389.426 173.535 391.538 183.654 393.582 192.075C397.482 208.123 394.662 223.232 385.433 235.768C377.061 247.146 363.836 255.689 348.205 259.82C328.91 264.918 307.935 262.676 290.658 253.663C270.453 243.127 255.94 224.133 248.677 198.734C233.478 145.569 183.063 116.442 142.55 93.0382C124.29 82.4873 107.042 72.5248 95.6684 61.9143C83.0281 50.1232 78.7117 38.5816 82.0785 25.5987C90.0447 -5.13419 121.545 -25.2491 146.568 -36.7088C173.648 -49.1107 199.181 -54.3321 199.435 -54.3842L199.453 -54.388C207.222 -55.4233 214.783 -55.9448 222.112 -55.9448ZM326.999 261.972C334.191 261.972 341.293 261.03 348.056 259.242C375.765 251.92 401.649 227.824 393.001 192.22C390.953 183.792 388.841 173.669 386.607 162.951C377.635 119.939 365.348 61.0353 338.057 15.2935C305.48 -39.3083 260.171 -61.9073 199.55 -53.7884C198.936 -53.6655 173.633 -48.4403 146.814 -36.1539C121.913 -24.7463 90.5735 -4.75058 82.6669 25.7514C75.4529 53.5793 105.199 70.7632 142.859 92.5205C183.465 115.98 234 145.175 249.266 198.574C262.17 243.727 295.406 261.972 326.999 261.972Z" fill="url(#paint12_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.381">
                            <path d="M221.651 -66.2834C246.28 -66.2834 268.54 -60.764 288.063 -49.7773C310.099 -37.3792 329.306 -17.6255 345.156 8.93619C374.157 57.5457 387.203 120.088 396.73 165.755C399.099 177.118 401.341 187.851 403.508 196.782C407.642 213.791 404.656 229.809 394.872 243.101C385.993 255.164 371.979 264.218 355.402 268.601C334.944 274.009 312.703 271.629 294.383 262.073C272.961 250.9 257.568 230.759 249.87 203.828C233.744 147.42 180.256 116.52 137.277 91.69C117.907 80.5022 99.6135 69.9326 87.5542 58.6778C74.1579 46.1791 69.5807 33.9485 73.1486 20.1873C81.5953 -12.4003 115.002 -33.7256 141.538 -45.8817C170.26 -59.0359 197.339 -64.5739 197.611 -64.6298L197.629 -64.6335C205.86 -65.7322 213.875 -66.2834 221.651 -66.2834ZM332.911 270.955C340.542 270.955 348.08 269.953 355.256 268.058C384.667 260.285 412.138 234.707 402.957 196.92C400.786 187.978 398.544 177.241 396.175 165.874C386.66 120.248 373.625 57.7579 344.672 9.23038C310.107 -48.701 262.034 -72.6743 197.711 -64.0674C197.089 -63.9408 170.234 -58.3991 141.761 -45.3566C115.341 -33.2526 82.0832 -12.0316 73.6924 20.3362C66.0352 49.8811 97.5986 68.1189 137.56 91.2058C159.169 103.69 183.663 117.842 204.359 135.7C228.139 156.221 243.204 178.459 250.414 203.68C264.112 251.593 299.385 270.955 332.911 270.955Z" fill="url(#paint13_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.3333">
                            <path d="M221.195 -76.622C247.228 -76.622 270.758 -70.786 291.394 -59.1737C314.686 -46.0716 334.991 -25.1858 351.746 2.89169C382.408 54.2795 396.199 120.404 406.27 168.682C408.776 180.697 411.141 192.041 413.435 201.486C417.804 219.459 414.646 236.386 404.311 250.431C394.929 263.179 380.114 272.747 362.599 277.376C340.976 283.089 317.472 280.575 298.109 270.478C275.469 258.669 259.201 237.384 251.064 208.92C234.01 149.268 177.449 116.591 132.002 90.3344C111.525 78.506 92.1852 67.3294 79.4369 55.4377C65.2846 42.2351 60.4467 29.3118 64.2157 14.7796C68.1598 -0.434143 77.5376 -14.62 92.0921 -27.3757C103.719 -37.5691 118.665 -46.8798 136.504 -55.0509C166.868 -68.9574 195.497 -74.812 195.78 -74.8679L195.799 -74.8716C204.502 -76.0373 212.975 -76.622 221.195 -76.622ZM338.827 279.934C346.897 279.934 354.871 278.873 362.461 276.869C393.57 268.646 422.631 241.589 412.921 201.613C410.624 192.16 408.259 180.809 405.752 168.79C395.689 120.546 381.909 54.4769 351.292 3.15982C314.738 -58.1048 263.901 -83.4673 195.873 -74.3539C195.251 -74.2273 166.835 -68.369 136.713 -54.5705C108.77 -41.7701 73.601 -19.3275 64.726 14.9099C56.6219 46.1754 90.0028 65.4598 132.266 89.8763C155.111 103.075 181.006 118.036 202.886 136.918C228.025 158.612 243.95 182.116 251.57 208.774C266.061 259.458 303.364 279.934 338.827 279.934Z" fill="url(#paint14_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.2857">
                            <path d="M220.737 -86.9569C248.174 -86.9569 272.974 -80.8044 294.724 -68.5701C319.275 -54.7604 340.675 -32.7499 358.331 -3.15289C390.651 51.017 405.191 120.717 415.805 171.61C418.445 184.276 420.941 196.238 423.361 206.193C427.961 225.131 424.639 242.963 413.749 257.764C403.865 271.197 388.252 281.279 369.795 286.158C347.006 292.18 322.239 289.528 301.834 278.888C277.976 266.445 260.833 244.01 252.256 214.014C234.275 151.115 174.642 116.665 126.729 88.9824C105.147 76.5135 84.756 64.7335 71.3225 52.1976C56.4141 38.2873 51.3156 24.6787 55.2856 9.36816C59.442 -6.66492 69.3262 -21.6105 84.6629 -35.0552C96.9195 -45.7998 112.67 -55.6133 131.474 -64.2276C163.476 -78.8864 193.654 -85.0538 193.956 -85.1172L193.971 -85.1209C203.144 -86.3462 212.071 -86.9569 220.737 -86.9569ZM344.742 288.917C353.255 288.917 361.661 287.8 369.668 285.685C402.479 277.015 433.13 248.475 422.885 206.309C420.464 196.343 417.969 184.38 415.324 171.71C404.718 120.851 390.189 51.1957 357.911 -2.90335C319.368 -67.5013 265.764 -94.2342 194.038 -84.633C193.409 -84.5063 163.439 -78.3315 131.663 -63.7769C102.201 -50.2801 65.1141 -26.6159 55.7549 9.49109C51.8369 24.608 56.8871 38.0639 71.654 51.84C85.0502 64.3388 105.411 76.1038 126.971 88.5579C151.052 102.472 178.351 118.24 201.412 138.143C227.907 161.007 244.692 185.781 252.722 213.877C268.006 267.324 307.346 288.917 344.742 288.917Z" fill="url(#paint15_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.2381">
                            <path d="M220.273 -97.2993C249.118 -97.2993 275.184 -90.834 298.052 -77.9702C323.857 -63.453 346.356 -40.3177 364.918 -9.20493C398.894 47.7433 414.179 121.026 425.341 174.533C428.119 187.851 430.741 200.428 433.284 210.897C438.119 230.8 434.625 249.54 423.18 265.089C412.79 279.208 396.384 289.804 376.984 294.932C353.033 301.263 326.997 298.478 305.552 287.29C280.477 274.21 262.455 250.632 253.442 219.098C234.534 152.955 171.832 116.728 121.449 87.623C98.7572 74.5135 77.3239 62.1302 63.2014 48.9537C47.5332 34.3358 42.1777 20.0383 46.3489 3.95303C50.7175 -12.8994 61.1046 -28.6085 77.2233 -42.7384C90.1094 -54.0342 106.664 -64.3506 126.432 -73.4043C160.078 -88.8154 191.801 -95.2994 192.118 -95.3665L192.133 -95.3702C201.782 -96.6514 211.168 -97.2993 220.273 -97.2993ZM350.654 297.9C359.607 297.9 368.448 296.724 376.869 294.5C411.382 285.379 443.619 255.362 432.845 211.009C430.301 200.532 427.676 187.952 424.897 174.63C413.743 121.153 398.466 47.9146 364.53 -8.96655C323.999 -76.8977 267.628 -105.009 192.203 -94.9121C191.596 -94.7892 160.055 -88.2978 126.615 -72.9797C95.6325 -58.7865 56.6317 -33.9007 46.7884 4.0722C42.6656 19.9786 47.9801 34.1384 63.5142 48.6297C77.5995 61.7727 99.0104 74.1448 121.68 87.2394C146.998 101.868 175.697 118.445 199.943 139.372C227.793 163.409 245.439 189.449 253.882 218.983C269.948 275.19 311.325 297.9 350.654 297.9Z" fill="url(#paint16_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.1905">
                            <path d="M219.816 -107.634C250.065 -107.634 277.401 -100.852 301.382 -87.3629C328.447 -72.138 352.04 -47.8742 371.507 -15.2457C407.145 44.4808 423.174 121.343 434.88 177.464C437.792 191.43 440.544 204.622 443.211 215.605C448.28 236.472 444.619 256.118 432.619 272.423C421.725 287.223 404.523 298.336 384.181 303.714C359.068 310.351 331.769 307.431 309.281 295.703C282.988 281.99 264.091 257.261 254.639 224.197C234.803 154.809 169.028 116.81 116.177 86.2748C92.3785 72.5247 69.8987 59.5381 55.0871 45.7173C38.663 30.3955 33.0505 15.4052 37.4191 -1.45462C42 -19.1227 52.8898 -35.5952 69.7944 -50.4142C83.3061 -62.2574 100.669 -73.0766 121.402 -82.5735C156.69 -98.7369 189.959 -105.538 190.294 -105.605L190.309 -105.608C200.424 -106.96 210.267 -107.634 219.816 -107.634ZM356.572 306.88C365.965 306.88 375.242 305.647 384.076 303.312C420.291 293.74 454.115 262.244 442.809 215.702C440.138 204.715 437.386 191.516 434.474 177.546C422.776 121.455 406.75 44.6335 371.149 -15.0371C328.629 -86.3015 269.495 -115.79 190.361 -105.199C189.713 -105.068 156.638 -98.2565 121.57 -82.1936C89.0639 -67.3039 48.1488 -41.1928 37.8213 -1.35406C33.4937 15.3419 39.0689 30.2018 55.3702 45.4081C70.1482 59.1955 92.6057 72.1709 116.385 85.9099C142.943 101.25 173.039 118.639 198.472 140.586C227.682 165.792 246.184 193.103 255.037 224.077C271.897 283.055 315.304 306.88 356.572 306.88Z" fill="url(#paint17_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.1429">
                            <path d="M219.576 -117.984C231.062 -117.984 242.131 -117.057 252.696 -115.202C271.247 -111.947 288.748 -105.742 304.714 -96.7593C333.033 -80.8268 357.725 -55.4346 378.097 -21.2902C415.388 41.2146 432.166 121.656 444.419 180.391C447.47 195.009 450.348 208.819 453.142 220.312C458.445 242.144 454.613 262.698 442.062 279.756C430.666 295.241 412.666 306.869 391.382 312.492C365.103 319.434 336.541 316.38 313.011 304.109C285.496 289.759 265.728 263.886 255.836 229.288C235.073 156.653 166.229 116.881 110.909 84.9229C86.0007 70.5323 62.4744 56.9423 46.9738 42.4809C29.7937 26.4515 23.9205 10.7722 28.4902 -6.85858C33.2834 -25.346 44.6797 -42.582 62.3663 -58.0826C76.5075 -70.477 94.6783 -81.7988 116.372 -91.7352C153.302 -108.647 188.121 -115.768 188.467 -115.839L188.478 -115.843C199.122 -117.273 209.509 -117.984 219.576 -117.984ZM362.489 315.863C372.321 315.863 382.037 314.57 391.285 312.127C429.194 302.105 464.612 269.127 452.773 220.402C449.98 208.901 447.097 195.091 444.047 180.47C431.801 121.76 415.031 41.3561 377.769 -21.0966C333.26 -95.6942 271.359 -126.565 188.527 -115.47C187.901 -115.344 153.258 -108.219 116.521 -91.3926C82.4962 -75.8064 39.6668 -48.4738 28.8552 -6.76547C24.3227 10.7201 30.1624 26.2802 47.2308 42.2053C62.6978 56.6369 86.2093 70.2194 111.095 84.5989C138.886 100.654 170.389 118.855 197.003 141.819C227.569 168.198 246.931 196.775 256.197 229.187C273.843 290.921 319.287 315.863 362.489 315.863Z" fill="url(#paint18_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.0952">
                            <path d="M219.121 -128.326C231.117 -128.326 242.677 -127.358 253.712 -125.422C273.086 -122.021 291.365 -115.541 308.034 -106.159C313.736 -102.953 319.308 -99.3738 324.73 -95.4372C289.771 -120.684 244.926 -133.559 186.686 -125.757C186.064 -125.63 149.86 -118.189 111.466 -100.603C75.9178 -84.3202 31.1742 -55.766 19.8784 -12.188C15.1411 6.08704 21.2452 22.3473 39.0808 38.9911C55.2405 54.0671 79.7985 68.2567 105.794 83.2768C134.821 100.047 167.725 119.056 195.524 143.044C227.448 170.593 247.667 200.439 257.347 234.289C279.983 313.472 346.376 334.715 398.483 320.946C438.098 310.47 475.099 276.013 462.73 225.098C459.814 213.087 456.805 198.659 453.617 183.386C440.198 119.056 422.143 32.5109 381.202 -33.0143C382.371 -31.1485 383.53 -29.2565 384.673 -27.3385C423.625 37.9484 441.152 121.968 453.949 183.319C457.133 198.588 460.142 213.013 463.058 225.016C468.596 247.812 464.596 269.272 451.487 287.081C439.584 303.252 420.791 315.393 398.565 321.267C371.128 328.522 341.296 325.33 316.723 312.515C287.99 297.528 267.347 270.508 257.015 234.379C235.325 158.5 163.409 116.952 105.623 83.5673C79.6086 68.536 55.0357 54.339 38.8462 39.237C20.91 22.5 14.7761 6.13171 19.5469 -12.2738C24.5524 -31.5768 36.4515 -49.5763 54.924 -65.7658C69.6908 -78.7115 88.6698 -90.5361 111.328 -100.916C149.901 -118.58 186.265 -126.017 186.626 -126.092L186.637 -126.096C197.758 -127.582 208.607 -128.326 219.121 -128.326Z" fill="url(#paint19_linear_5151_2486)"/>
                        </g>
                        <g opacity="0.0476">
                            <path d="M218.672 -138.661C231.178 -138.661 243.23 -137.652 254.734 -135.634C274.931 -132.088 293.984 -125.332 311.366 -115.556C327.481 -106.491 342.609 -94.5694 356.333 -80.1266C368.895 -66.9054 380.649 -51.1777 391.267 -33.383C431.876 34.6822 450.148 122.281 463.488 186.246C466.81 202.167 469.946 217.206 472.985 229.723C478.758 253.481 474.587 275.853 460.926 294.414C448.52 311.271 428.93 323.926 405.762 330.049C391.863 333.721 377.517 334.879 363.13 333.49C347.99 332.026 333.63 327.799 320.449 320.924C290.498 305.304 268.976 277.137 258.209 239.474C235.591 160.351 160.603 117.03 100.347 82.2191C73.2231 66.551 47.6075 51.7469 30.729 36.0043C12.033 18.5634 5.64212 1.50613 10.614 -17.6777C15.8281 -37.8001 28.2374 -56.5593 47.492 -73.4378C62.8882 -86.9347 82.6717 -99.2621 106.295 -110.081C146.51 -128.498 184.419 -136.252 184.799 -136.326L184.81 -136.33C196.404 -137.887 207.711 -138.661 218.672 -138.661ZM374.314 333.825C385.029 333.825 395.613 332.417 405.691 329.754C447.004 318.835 485.596 282.895 472.695 229.794C469.652 217.269 466.516 202.231 463.194 186.306C449.857 122.363 431.593 34.7939 391.006 -33.2303C342.519 -114.494 275.087 -148.125 184.855 -136.036C184.256 -135.913 146.48 -128.159 106.422 -109.809C69.3536 -92.8302 22.6919 -63.0545 10.9157 -17.6069C5.97354 1.45401 12.3384 18.4182 30.9449 35.7771C47.7974 51.4973 73.4019 66.2903 100.507 81.9509C130.775 99.4365 165.075 119.257 194.058 144.266C227.334 172.984 248.414 204.1 258.503 239.388C277.732 306.652 327.242 333.825 374.314 333.825Z" fill="url(#paint20_linear_5151_2486)"/>
                        </g>
                    </g>
                    <defs>
                        <linearGradient id="paint0_linear_5151_2486" x1="274.959" y1="111.676" x2="188.958" y2="111.676" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint1_linear_5151_2486" x1="284.984" y1="110.986" x2="179.962" y2="110.986" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint2_linear_5151_2486" x1="295.014" y1="110.29" x2="170.968" y2="110.29" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint3_linear_5151_2486" x1="305.047" y1="109.593" x2="161.976" y2="109.593" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint4_linear_5151_2486" x1="315.07" y1="108.895" x2="152.973" y2="108.895" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint5_linear_5151_2486" x1="325.094" y1="108.199" x2="143.95" y2="108.199" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint6_linear_5151_2486" x1="335.129" y1="107.475" x2="134.961" y2="107.475" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint7_linear_5151_2486" x1="345.158" y1="106.773" x2="125.96" y2="106.773" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint8_linear_5151_2486" x1="355.186" y1="106.075" x2="116.962" y2="106.075" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint9_linear_5151_2486" x1="365.215" y1="105.375" x2="107.962" y2="105.375" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint10_linear_5151_2486" x1="375.244" y1="104.68" x2="98.9713" y2="104.68" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint11_linear_5151_2486" x1="385.258" y1="103.981" x2="89.9662" y2="103.981" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint12_linear_5151_2486" x1="395.287" y1="103.277" x2="80.9786" y2="103.277" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint13_linear_5151_2486" x1="405.316" y1="102.58" x2="71.9835" y2="102.58" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint14_linear_5151_2486" x1="415.346" y1="101.878" x2="62.9852" y2="101.878" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint15_linear_5151_2486" x1="425.373" y1="101.183" x2="53.9898" y2="101.183" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint16_linear_5151_2486" x1="435.398" y1="100.48" x2="44.9873" y2="100.48" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint17_linear_5151_2486" x1="445.428" y1="99.7842" x2="35.9936" y2="99.7842" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint18_linear_5151_2486" x1="455.461" y1="99.0786" x2="26.9994" y2="99.0786" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint19_linear_5151_2486" x1="465.48" y1="98.377" x2="17.9908" y2="98.377" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                        <linearGradient id="paint20_linear_5151_2486" x1="475.51" y1="97.6985" x2="8.99213" y2="97.6985" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#E91A83"/>
                            <stop offset="1" stop-color="#4C24C1"/>
                        </linearGradient>
                    </defs>
                </svg>
            </div>
        </div>
    </div>
    <?php
endforeach;
endif;
}

function festiva_get_event_grid_layout2($posts = [], $settings = []){ 
    extract($settings);
    
    $images_size = !empty($img_size) ? $img_size : '441x374';

    if (is_array($posts)):
        foreach ($posts as $key => $post):
            $item_class = "pxl-grid-item col-xl-{$col_xl} col-lg-{$col_lg} col-md-{$col_md} col-sm-{$col_sm} col-{$col_xs}";
            if(isset($grid_masonry) && !empty($grid_masonry[$key]) && (count($grid_masonry) > 1)) {
                $col_xl_m = 12 / $grid_masonry[$key]['col_xl_m'];
                $col_lg_m = 12 / $grid_masonry[$key]['col_lg_m'];
                $col_md_m = 12 / $grid_masonry[$key]['col_md_m'];
                $col_sm_m = 12 / $grid_masonry[$key]['col_sm_m'];
                $col_xs_m = 12 / $grid_masonry[$key]['col_xs_m'];
                $item_class = "pxl-grid-item col-xl-{$col_xl_m} col-lg-{$col_lg_m} col-md-{$col_md_m} col-sm-{$col_sm_m} col-{$col_xs_m}";
                
                $img_size_m = $grid_masonry[$key]['img_size_m'];
                if(!empty($img_size_m)) {
                    $images_size = $img_size_m;
                }
            } elseif (!empty($img_size)) {
                $images_size = $img_size;
            }

            if(!empty($tax))
                $filter_class = pxl_get_term_of_post_to_class($post->ID, array_unique($tax));
            else 
                $filter_class = '';
            $img_id = get_post_thumbnail_id($post->ID);
            if($img_id) {
                $img = pxl_get_image_by_size( array(
                    'attach_id'  => $img_id,
                    'thumb_size' => $images_size,
                    'class' => 'no-lazyload',
                ));
                $thumbnail = $img['thumbnail'];
            } else {
                $thumbnail = get_the_post_thumbnail($post->ID, $images_size);
            }
            $event_time = get_post_meta($post->ID, 'event_time', true);
            $event_date = get_post_meta($post->ID, 'event_date', true);
            $event_summary  = get_post_meta($post->ID, 'event_summary',true);
            $event_category  = get_post_meta($post->ID, 'event_category',true);
            
            $avatar = get_avatar($post->post_author, 100);
            $author = get_user_by('id', $post->post_author);  
            $author_id = get_the_author_meta('ID');
            $event_category = !empty($event_category) ? $event_category : 'conference';
            
            ?>

            
            <div class="<?php echo esc_attr($item_class . ' ' . $filter_class); ?>">
                <div class="pxl-item--holder <?php echo esc_attr($style_layout) ?>">
                    <?php if (has_post_thumbnail($post->ID) && wp_get_attachment_image_src(get_post_thumbnail_id($post->ID), false)): ?>
                    <div class="pxl-item--featured">
                        <a href="<?php echo esc_url(get_permalink( $post->ID )); ?>"></a>
                        <?php echo wp_kses_post($thumbnail); ?>
                        <?php if ($show_category == 'true'): ?>
                            <div class="pxl-btn-category">
                                <span>
                                    <?php echo esc_attr($event_category); ?>
                                </span>
                            </div>
                        <?php endif ?>
                    </div>
                <?php endif; ?> 
                <div class="meta-content">
                    <div class="pxl-schedule">
                        <?php if (!empty($event_time)) : ?>
                            <div class="pxl-event--time">
                                <i class="far fa-clock"></i>
                                <?php echo pxl_print_html($event_time);?>
                            </div>
                        <?php endif;?>
                        <?php if (!empty($event_date)) : ?>
                            <div class="pxl-event--date">
                                <i class="far fa-calendar-alt"></i>
                                <?php echo pxl_print_html($event_date);?> 
                            </div>
                        <?php endif;?>
                    </div>

                    <div class="pxl-inner">
                        <h3 class="pxl-item--title <?php echo pxl_print_html($style_color_title) ?>">
                            <a href="<?php if(!empty($event_external_link)) { echo esc_url($event_external_link); } else { echo esc_url(get_permalink( $post->ID )); } ?>"><?php echo pxl_print_html(get_the_title($post->ID)); ?></a>
                        </h3>

                        <div class="pxl-content">       
                            <?php if($show_author =='true'): ?>
                                <div class="pxl-item--author">
                                    <div class="img-author">                                    
                                        <?php echo wp_kses_post($avatar); ?>
                                    </div>

                                    <div class="info-author">
                                        <div class="name"><?php the_author_posts_link(); ?></div>
                                        <?php festiva_get_user_theme(); ?>
                                    </div>
                                </div>
                            <?php endif; ?>
                            <?php if(!empty($event_summary)) : ?>
                                <div class="pxl-item--summary">
                                    <?php echo pxl_print_html($event_summary); ?>
                                </div>
                            <?php endif; ?>
                        </div>
                    </div>


                    <?php if ($show_button == 'true') : ?>
                        <div class="pxl-item--button button ">
                            <a href="<?php if(!empty($event_external_link)) { echo esc_url($event_external_link); } else { echo esc_url(get_permalink( $post->ID )); } ?>">
                             <?php if ($button_text): ?>
                                 <?php echo pxl_print_html($button_text) ?>
                             <?php else : ?>
                                <?php echo pxl_print_html('Learn More','festiva'); ?>
                            <?php endif ?>
                        </a>
                    </div> 
                <?php endif; ?>     
                    <div class="pxl-bg--content">
                        <svg class="svg" xmlns="http://www.w3.org/2000/svg" width="724" height="377" viewBox="0 0 724 377" fill="none">
                            <path d="M152.439 82.2091L13 196.977L217.511 144.81L43.9866 360L592.448 17L418.924 320.875L704 133.072" stroke="url(#paint0_linear_5151_2483)" stroke-width="40" stroke-linecap="round"/>
                            <defs>
                                <linearGradient id="paint0_linear_5151_2483" x1="13" y1="188.5" x2="704" y2="188.5" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#E100A8"/>
                                    <stop offset="1" stop-color="#71009C"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                </div>

                <div class="pxl-bg--holder">
                    <svg width="339" height="343" viewBox="0 0 339 343" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g opacity="0.4">
                            <path d="M227.769 68.1003C260.323 68.1003 268.032 105.075 272.751 127.704C273.354 130.601 273.924 133.339 274.479 135.611C276.918 145.648 269.652 152.433 261.872 154.493C251.72 157.171 238.785 153.048 234.38 137.644C230.316 123.421 216.749 115.585 205.848 109.287C195.841 103.507 187.196 98.5129 189.267 90.528C193.461 74.3459 220.25 68.7744 221.385 68.5472L221.419 68.5435C223.635 68.2418 225.754 68.1003 227.769 68.1003ZM256.025 154.191C257.928 154.191 259.809 153.942 261.6 153.469C268.9 151.539 275.723 145.204 273.451 135.856C272.896 133.566 272.323 130.821 271.716 127.916C266.781 104.252 258.517 64.6479 221.579 69.5789C220.786 69.7427 194.276 75.3999 190.288 90.7887C188.418 97.9952 196.343 102.572 206.377 108.371C217.441 114.762 231.21 122.717 235.393 137.35C238.826 149.346 247.645 154.191 256.025 154.191Z" fill="url(#paint0_linear_5151_2486)"/>
                            <g opacity="0.9524">
                                <path d="M227.103 57.7766C243.613 57.7766 256.711 65.7279 266.115 81.4891C275.217 96.7438 279.303 116.33 282.286 130.631C283.027 134.177 283.724 137.529 284.402 140.314C287.366 152.519 278.528 160.764 269.065 163.267C256.7 166.537 240.939 161.506 235.572 142.731C230.578 125.264 213.942 115.652 200.575 107.932C188.371 100.878 177.827 94.7886 180.334 85.1128C185.447 65.3815 218.169 58.5772 219.558 58.2979L219.591 58.2942C222.165 57.9479 224.675 57.7766 227.103 57.7766ZM261.94 163.174C264.287 163.174 266.599 162.869 268.808 162.284C277.81 159.904 286.219 152.091 283.415 140.556C282.733 137.756 282.033 134.396 281.292 130.84C275.236 101.816 265.095 53.2366 219.744 59.3035C218.861 59.486 186.233 66.4206 181.32 85.3736C179.008 94.3007 188.75 99.9281 201.085 107.053C214.612 114.866 231.446 124.59 236.552 142.452C240.768 157.211 251.624 163.174 261.94 163.174Z" fill="url(#paint1_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.9048">
                                <path d="M226.631 47.4416C246.128 47.4416 261.599 56.8305 272.705 75.4445C283.464 93.4776 288.295 116.643 291.825 133.558C292.7 137.759 293.527 141.726 294.328 145.022C297.818 159.386 287.408 169.099 276.261 172.045C261.673 175.9 243.093 169.967 236.765 147.826C230.844 127.115 211.138 115.73 195.303 106.58C180.901 98.2596 168.458 91.0717 171.404 79.7052C177.437 56.4246 217.328 48.138 217.73 48.0561L217.764 48.0524C220.803 47.6427 223.764 47.4416 226.631 47.4416ZM267.856 172.157C270.641 172.157 273.394 171.792 276.012 171.099C286.712 168.273 296.711 158.977 293.378 145.253C292.574 141.942 291.743 137.964 290.868 133.76C283.695 99.3769 271.695 41.8403 217.909 49.0207C216.948 49.2181 178.189 57.4301 172.354 79.9509C169.594 90.595 181.158 97.2726 195.794 105.73C211.783 114.967 231.678 126.464 237.707 147.554C242.713 165.077 255.603 172.157 267.856 172.157Z" fill="url(#paint2_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.8571">
                                <path d="M226.163 37.1029C248.647 37.1029 266.486 47.9332 279.294 69.3963C291.711 90.2076 297.29 116.956 301.364 136.486C302.377 141.335 303.331 145.919 304.258 149.726C308.273 166.254 296.292 177.431 283.462 180.823C266.658 185.267 245.254 178.425 237.962 152.917C231.113 128.959 208.335 115.801 190.03 105.228C173.427 95.6377 159.093 87.3548 162.474 74.2975C169.428 47.4677 215.441 37.9074 215.903 37.818L215.933 37.8143C219.441 37.3375 222.853 37.1029 226.163 37.1029ZM273.771 181.136C276.996 181.136 280.184 180.712 283.216 179.911C295.618 176.634 307.204 165.859 303.338 149.949C302.407 146.124 301.45 141.536 300.437 136.679C292.147 96.9337 278.281 30.4104 216.071 38.7416C215.043 38.9539 170.143 48.4434 163.383 74.5321C160.18 86.893 173.558 94.6247 190.496 104.408C208.946 115.067 231.91 128.333 238.863 152.657C244.662 172.943 259.585 181.136 273.771 181.136Z" fill="url(#paint3_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.8095">
                                <path d="M225.689 26.7644C251.16 26.7644 271.368 39.0322 285.878 63.3518C299.952 86.9452 306.279 117.272 310.898 139.413C312.045 144.914 313.128 150.109 314.179 154.433C318.719 173.125 305.166 185.766 290.649 189.602C271.629 194.626 247.398 186.883 239.145 158.008C231.369 130.806 205.519 115.872 184.748 103.872C165.948 93.0121 149.714 83.6343 153.535 68.8861C161.408 38.5071 213.541 27.6768 214.07 27.5688L214.099 27.5651C218.077 27.0288 221.939 26.7644 225.689 26.7644ZM279.684 190.119C283.349 190.119 286.973 189.639 290.421 188.726C304.525 184.998 317.698 172.746 313.303 154.645C312.249 150.307 311.166 145.108 310.015 139.596C305.408 117.514 299.103 87.273 285.103 63.8136C268.433 35.874 245.253 24.31 214.237 28.4552C213.142 28.6824 162.105 39.4456 154.414 69.1096C150.764 83.1911 165.963 91.9693 185.203 103.086C206.115 115.168 232.14 130.203 240.017 157.755C246.605 180.809 263.566 190.119 279.684 190.119Z" fill="url(#paint4_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.7619">
                                <path d="M225.215 16.4295C253.673 16.4295 276.253 30.1386 292.461 57.3073C308.196 83.679 315.269 117.585 320.431 142.34C321.716 148.493 322.926 154.303 324.099 159.137C329.164 179.989 314.04 194.097 297.839 198.376C276.607 203.989 249.55 195.341 240.332 163.096C231.629 132.65 202.71 115.939 179.47 102.513C157.608 89.8837 140.339 79.9063 144.599 63.4673C153.392 29.5389 211.648 17.4387 212.236 17.3196L212.262 17.3158C216.709 16.7237 221.029 16.4295 225.215 16.4295ZM285.597 199.102C289.705 199.102 293.761 198.562 297.623 197.542C313.425 193.367 328.192 179.632 323.261 159.342C322.084 154.496 320.87 148.675 319.585 142.515C314.435 117.82 307.381 83.9956 291.72 57.7467C273.061 26.4738 247.114 13.5282 212.4 18.1761C211.242 18.4145 154.059 30.4552 145.445 63.6908C141.352 79.4892 158.368 89.3213 179.909 101.768C203.283 115.272 232.374 132.076 241.174 162.861C248.548 188.671 267.542 199.102 285.597 199.102Z" fill="url(#paint5_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.7143">
                                <path d="M224.865 6.08331C239.658 6.08331 253.032 9.40167 264.763 16.0011C278 23.446 289.537 35.3116 299.053 51.259C316.445 80.4091 324.263 117.894 329.972 145.268C331.391 152.072 332.732 158.496 334.032 163.844C339.622 186.861 322.922 202.432 305.042 207.158C292.729 210.409 279.344 208.979 268.316 203.229C255.423 196.506 246.161 184.388 241.531 168.191C231.9 134.497 199.909 116.013 174.204 101.165C150.051 87.2133 130.979 76.1931 135.676 58.0633C145.389 20.5857 209.767 7.21179 210.415 7.08145L210.441 7.07771C215.387 6.41479 220.199 6.08331 224.865 6.08331ZM291.515 208.082C296.062 208.082 300.554 207.486 304.829 206.353C322.334 201.728 338.687 186.51 333.227 164.038C331.927 158.679 330.583 152.247 329.164 145.435C323.466 118.121 315.663 80.7145 298.342 51.6836C277.694 17.0775 248.976 2.75752 210.564 7.89705C209.342 8.14658 146.014 21.4646 136.476 58.2719C131.936 75.7909 150.77 86.6696 174.617 100.446C200.452 115.373 232.604 133.946 242.328 167.96C250.499 196.536 271.527 208.082 291.515 208.082Z" fill="url(#paint6_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.6667">
                                <path d="M224.403 -4.25534C240.604 -4.25534 255.244 -0.624146 268.093 6.60471C282.588 14.7572 295.221 27.7476 305.638 45.2108C324.691 77.1429 333.253 118.207 339.51 148.191C341.063 155.647 342.534 162.69 343.957 168.544C350.076 193.724 331.801 210.759 312.237 215.929C298.763 219.489 284.111 217.925 272.041 211.627C257.929 204.268 247.792 191.006 242.723 173.274C232.165 136.337 197.1 116.08 168.926 99.8052C142.487 84.5319 121.605 72.4651 126.741 52.6482C137.374 11.6176 207.871 -3.02631 208.582 -3.16783L208.609 -3.17155C214.02 -3.89407 219.29 -4.25534 224.403 -4.25534ZM297.425 217.065C302.412 217.065 307.34 216.409 312.032 215.169C331.238 210.093 349.178 193.397 343.186 168.738C341.759 162.865 340.288 155.819 338.732 148.359C332.49 118.43 323.939 77.4408 304.956 45.6242C282.32 7.68477 250.842 -8.00941 208.724 -2.37828C207.45 -2.11758 137.97 12.4779 127.505 52.8567C122.518 72.0927 143.173 84.0254 169.321 99.1311C197.618 115.481 232.835 135.827 243.483 173.069C252.44 204.402 275.504 217.065 297.425 217.065Z" fill="url(#paint7_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.619">
                                <path d="M223.948 -14.5939C241.553 -14.5939 257.463 -10.6461 271.422 -2.79156C287.172 6.06853 300.899 20.1873 312.225 39.1663C332.936 73.8767 342.247 118.524 349.047 151.119C350.738 159.226 352.336 166.88 353.881 173.252C360.525 200.596 340.679 219.094 319.428 224.711C304.788 228.58 288.874 226.878 275.76 220.04C260.431 212.044 249.419 197.635 243.91 178.373C232.428 138.192 194.295 116.159 163.652 98.4571C134.926 81.8616 112.234 68.7521 117.809 47.2443C123.854 23.9265 147.734 8.67178 166.706 -0.016983C187.219 -9.41338 206.563 -13.3686 206.757 -13.4058L206.783 -13.4095C212.667 -14.1991 218.391 -14.5939 223.948 -14.5939ZM303.343 226.044C308.773 226.044 314.136 225.329 319.238 223.981C340.142 218.454 359.673 200.279 353.151 173.431C351.602 167.047 350.004 159.387 348.31 151.275C341.52 118.728 332.224 74.1561 311.581 39.5536C286.956 -1.71899 252.715 -18.806 206.895 -12.6647C205.565 -12.3928 129.936 3.47641 118.543 47.4342C113.113 68.3871 135.582 81.37 164.032 97.8053C194.791 115.574 233.073 137.692 244.64 178.164C254.39 212.268 279.485 226.044 303.343 226.044Z" fill="url(#paint8_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.5714">
                                <path d="M223.487 -24.9326C242.496 -24.9326 259.676 -20.6683 274.749 -12.1918C291.757 -2.62408 306.58 12.6194 318.811 33.1179C341.179 70.6067 351.238 118.833 358.582 154.046C360.407 162.802 362.135 171.073 363.808 177.959C370.977 207.467 349.558 227.429 326.624 233.489C310.822 237.664 293.642 235.828 279.486 228.446C262.939 219.817 251.051 204.26 245.103 183.464C232.69 140.035 191.485 116.229 158.376 97.105C127.36 79.1875 102.861 65.0314 108.876 41.8328C115.401 16.6603 141.188 0.191452 161.672 -9.19005C183.827 -19.335 204.717 -23.6068 204.926 -23.6515L204.948 -23.6552C211.301 -24.5043 217.488 -24.9326 223.487 -24.9326ZM309.254 235.027C315.124 235.027 320.922 234.256 326.442 232.796C349.048 226.822 370.165 207.165 363.111 178.127C361.435 171.233 359.711 162.954 357.882 154.191C350.549 119.03 340.505 70.8711 318.196 33.4866C291.582 -11.1192 254.574 -29.5805 205.056 -22.9476C203.696 -22.672 121.892 -5.52534 109.569 42.0078C103.692 64.6813 127.982 78.7145 158.733 96.4794C191.954 115.671 233.297 139.558 245.792 183.263C256.332 220.133 283.463 235.027 309.254 235.027Z" fill="url(#paint9_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.5238">
                                <path d="M223.031 -35.2675C243.443 -35.2675 261.894 -30.6903 278.079 -21.5844C296.343 -11.3091 312.265 5.06293 325.4 27.0772C349.426 67.348 360.234 119.149 368.122 156.977C370.084 166.384 371.939 175.274 373.734 182.667C381.429 214.338 358.435 235.764 333.821 242.271C316.853 246.755 298.407 244.781 283.215 236.856C265.45 227.59 252.683 210.89 246.3 188.555C232.96 141.882 188.681 116.304 153.107 95.7495C119.804 76.5098 93.4997 61.3109 99.9501 36.4215C106.956 9.39427 134.646 -8.28867 156.641 -18.3629C180.436 -29.2602 202.875 -33.8485 203.098 -33.8969L203.121 -33.9006C209.943 -34.8131 216.584 -35.2675 223.031 -35.2675ZM315.17 244.01C321.479 244.01 327.713 243.183 333.646 241.611C357.954 235.187 380.661 214.052 373.075 182.827C371.276 175.42 369.421 166.526 367.459 157.115C359.578 119.335 348.789 67.5976 324.819 27.4236C296.217 -20.5118 256.441 -40.3511 203.221 -33.2266C202.618 -33.1036 180.428 -28.5116 156.909 -17.7409C135.052 -7.73001 107.54 9.82632 100.602 36.5891C94.2818 60.9795 120.389 76.0629 153.442 95.1611C189.125 115.775 233.533 141.432 246.948 188.369C258.277 227.999 287.442 244.01 315.17 244.01Z" fill="url(#paint10_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.4762">
                                <path d="M222.568 -45.6061C244.389 -45.6061 264.109 -40.7161 281.405 -30.9808C300.927 -19.9979 317.944 -2.49738 331.984 21.0327C357.671 64.0818 369.22 119.466 377.655 159.904C379.752 169.964 381.737 179.468 383.655 187.375C387.32 202.458 384.672 216.659 375.998 228.446C368.129 239.139 355.704 247.168 341.012 251.049C322.878 255.842 303.169 253.73 286.935 245.265C267.949 235.362 254.31 217.515 247.487 193.65C233.216 143.733 185.869 116.378 147.825 94.3976C112.232 73.8358 84.1213 57.5941 91.0113 31.0138C98.4971 2.13193 128.094 -16.7652 151.602 -27.5321C177.039 -39.1817 201.027 -44.0866 201.265 -44.135L201.288 -44.1387C208.583 -45.1182 215.682 -45.6061 222.568 -45.6061ZM321.083 252.989C327.835 252.989 334.502 252.103 340.848 250.427C366.855 243.552 391.152 220.938 383.033 187.524C381.108 179.606 379.126 170.098 377.026 160.031C368.602 119.637 357.06 64.3165 331.433 21.3567C300.845 -29.9119 258.303 -51.1367 201.381 -43.5093C200.774 -43.3864 177.028 -38.4778 151.859 -26.9474C128.481 -16.2363 99.052 2.53784 91.6332 31.1702C84.8661 57.2775 112.791 73.4149 148.149 93.8389C186.294 115.876 233.767 143.301 248.106 193.468C260.225 235.861 291.423 252.989 321.083 252.989Z" fill="url(#paint11_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.4286">
                                <path d="M222.112 -55.9448C245.337 -55.9448 266.327 -50.7382 284.736 -40.3809C305.514 -28.6904 323.629 -10.0652 338.571 14.9807C365.914 60.8082 378.212 119.771 387.191 162.824C389.426 173.535 391.538 183.654 393.582 192.075C397.482 208.123 394.662 223.232 385.433 235.768C377.061 247.146 363.836 255.689 348.205 259.82C328.91 264.918 307.935 262.676 290.658 253.663C270.453 243.127 255.94 224.133 248.677 198.734C233.478 145.569 183.063 116.442 142.55 93.0382C124.29 82.4873 107.042 72.5248 95.6684 61.9143C83.0281 50.1232 78.7117 38.5816 82.0785 25.5987C90.0447 -5.13419 121.545 -25.2491 146.568 -36.7088C173.648 -49.1107 199.181 -54.3321 199.435 -54.3842L199.453 -54.388C207.222 -55.4233 214.783 -55.9448 222.112 -55.9448ZM326.999 261.972C334.191 261.972 341.293 261.03 348.056 259.242C375.765 251.92 401.649 227.824 393.001 192.22C390.953 183.792 388.841 173.669 386.607 162.951C377.635 119.939 365.348 61.0353 338.057 15.2935C305.48 -39.3083 260.171 -61.9073 199.55 -53.7884C198.936 -53.6655 173.633 -48.4403 146.814 -36.1539C121.913 -24.7463 90.5735 -4.75058 82.6669 25.7514C75.4529 53.5793 105.199 70.7632 142.859 92.5205C183.465 115.98 234 145.175 249.266 198.574C262.17 243.727 295.406 261.972 326.999 261.972Z" fill="url(#paint12_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.381">
                                <path d="M221.651 -66.2834C246.28 -66.2834 268.54 -60.764 288.063 -49.7773C310.099 -37.3792 329.306 -17.6255 345.156 8.93619C374.157 57.5457 387.203 120.088 396.73 165.755C399.099 177.118 401.341 187.851 403.508 196.782C407.642 213.791 404.656 229.809 394.872 243.101C385.993 255.164 371.979 264.218 355.402 268.601C334.944 274.009 312.703 271.629 294.383 262.073C272.961 250.9 257.568 230.759 249.87 203.828C233.744 147.42 180.256 116.52 137.277 91.69C117.907 80.5022 99.6135 69.9326 87.5542 58.6778C74.1579 46.1791 69.5807 33.9485 73.1486 20.1873C81.5953 -12.4003 115.002 -33.7256 141.538 -45.8817C170.26 -59.0359 197.339 -64.5739 197.611 -64.6298L197.629 -64.6335C205.86 -65.7322 213.875 -66.2834 221.651 -66.2834ZM332.911 270.955C340.542 270.955 348.08 269.953 355.256 268.058C384.667 260.285 412.138 234.707 402.957 196.92C400.786 187.978 398.544 177.241 396.175 165.874C386.66 120.248 373.625 57.7579 344.672 9.23038C310.107 -48.701 262.034 -72.6743 197.711 -64.0674C197.089 -63.9408 170.234 -58.3991 141.761 -45.3566C115.341 -33.2526 82.0832 -12.0316 73.6924 20.3362C66.0352 49.8811 97.5986 68.1189 137.56 91.2058C159.169 103.69 183.663 117.842 204.359 135.7C228.139 156.221 243.204 178.459 250.414 203.68C264.112 251.593 299.385 270.955 332.911 270.955Z" fill="url(#paint13_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.3333">
                                <path d="M221.195 -76.622C247.228 -76.622 270.758 -70.786 291.394 -59.1737C314.686 -46.0716 334.991 -25.1858 351.746 2.89169C382.408 54.2795 396.199 120.404 406.27 168.682C408.776 180.697 411.141 192.041 413.435 201.486C417.804 219.459 414.646 236.386 404.311 250.431C394.929 263.179 380.114 272.747 362.599 277.376C340.976 283.089 317.472 280.575 298.109 270.478C275.469 258.669 259.201 237.384 251.064 208.92C234.01 149.268 177.449 116.591 132.002 90.3344C111.525 78.506 92.1852 67.3294 79.4369 55.4377C65.2846 42.2351 60.4467 29.3118 64.2157 14.7796C68.1598 -0.434143 77.5376 -14.62 92.0921 -27.3757C103.719 -37.5691 118.665 -46.8798 136.504 -55.0509C166.868 -68.9574 195.497 -74.812 195.78 -74.8679L195.799 -74.8716C204.502 -76.0373 212.975 -76.622 221.195 -76.622ZM338.827 279.934C346.897 279.934 354.871 278.873 362.461 276.869C393.57 268.646 422.631 241.589 412.921 201.613C410.624 192.16 408.259 180.809 405.752 168.79C395.689 120.546 381.909 54.4769 351.292 3.15982C314.738 -58.1048 263.901 -83.4673 195.873 -74.3539C195.251 -74.2273 166.835 -68.369 136.713 -54.5705C108.77 -41.7701 73.601 -19.3275 64.726 14.9099C56.6219 46.1754 90.0028 65.4598 132.266 89.8763C155.111 103.075 181.006 118.036 202.886 136.918C228.025 158.612 243.95 182.116 251.57 208.774C266.061 259.458 303.364 279.934 338.827 279.934Z" fill="url(#paint14_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.2857">
                                <path d="M220.737 -86.9569C248.174 -86.9569 272.974 -80.8044 294.724 -68.5701C319.275 -54.7604 340.675 -32.7499 358.331 -3.15289C390.651 51.017 405.191 120.717 415.805 171.61C418.445 184.276 420.941 196.238 423.361 206.193C427.961 225.131 424.639 242.963 413.749 257.764C403.865 271.197 388.252 281.279 369.795 286.158C347.006 292.18 322.239 289.528 301.834 278.888C277.976 266.445 260.833 244.01 252.256 214.014C234.275 151.115 174.642 116.665 126.729 88.9824C105.147 76.5135 84.756 64.7335 71.3225 52.1976C56.4141 38.2873 51.3156 24.6787 55.2856 9.36816C59.442 -6.66492 69.3262 -21.6105 84.6629 -35.0552C96.9195 -45.7998 112.67 -55.6133 131.474 -64.2276C163.476 -78.8864 193.654 -85.0538 193.956 -85.1172L193.971 -85.1209C203.144 -86.3462 212.071 -86.9569 220.737 -86.9569ZM344.742 288.917C353.255 288.917 361.661 287.8 369.668 285.685C402.479 277.015 433.13 248.475 422.885 206.309C420.464 196.343 417.969 184.38 415.324 171.71C404.718 120.851 390.189 51.1957 357.911 -2.90335C319.368 -67.5013 265.764 -94.2342 194.038 -84.633C193.409 -84.5063 163.439 -78.3315 131.663 -63.7769C102.201 -50.2801 65.1141 -26.6159 55.7549 9.49109C51.8369 24.608 56.8871 38.0639 71.654 51.84C85.0502 64.3388 105.411 76.1038 126.971 88.5579C151.052 102.472 178.351 118.24 201.412 138.143C227.907 161.007 244.692 185.781 252.722 213.877C268.006 267.324 307.346 288.917 344.742 288.917Z" fill="url(#paint15_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.2381">
                                <path d="M220.273 -97.2993C249.118 -97.2993 275.184 -90.834 298.052 -77.9702C323.857 -63.453 346.356 -40.3177 364.918 -9.20493C398.894 47.7433 414.179 121.026 425.341 174.533C428.119 187.851 430.741 200.428 433.284 210.897C438.119 230.8 434.625 249.54 423.18 265.089C412.79 279.208 396.384 289.804 376.984 294.932C353.033 301.263 326.997 298.478 305.552 287.29C280.477 274.21 262.455 250.632 253.442 219.098C234.534 152.955 171.832 116.728 121.449 87.623C98.7572 74.5135 77.3239 62.1302 63.2014 48.9537C47.5332 34.3358 42.1777 20.0383 46.3489 3.95303C50.7175 -12.8994 61.1046 -28.6085 77.2233 -42.7384C90.1094 -54.0342 106.664 -64.3506 126.432 -73.4043C160.078 -88.8154 191.801 -95.2994 192.118 -95.3665L192.133 -95.3702C201.782 -96.6514 211.168 -97.2993 220.273 -97.2993ZM350.654 297.9C359.607 297.9 368.448 296.724 376.869 294.5C411.382 285.379 443.619 255.362 432.845 211.009C430.301 200.532 427.676 187.952 424.897 174.63C413.743 121.153 398.466 47.9146 364.53 -8.96655C323.999 -76.8977 267.628 -105.009 192.203 -94.9121C191.596 -94.7892 160.055 -88.2978 126.615 -72.9797C95.6325 -58.7865 56.6317 -33.9007 46.7884 4.0722C42.6656 19.9786 47.9801 34.1384 63.5142 48.6297C77.5995 61.7727 99.0104 74.1448 121.68 87.2394C146.998 101.868 175.697 118.445 199.943 139.372C227.793 163.409 245.439 189.449 253.882 218.983C269.948 275.19 311.325 297.9 350.654 297.9Z" fill="url(#paint16_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.1905">
                                <path d="M219.816 -107.634C250.065 -107.634 277.401 -100.852 301.382 -87.3629C328.447 -72.138 352.04 -47.8742 371.507 -15.2457C407.145 44.4808 423.174 121.343 434.88 177.464C437.792 191.43 440.544 204.622 443.211 215.605C448.28 236.472 444.619 256.118 432.619 272.423C421.725 287.223 404.523 298.336 384.181 303.714C359.068 310.351 331.769 307.431 309.281 295.703C282.988 281.99 264.091 257.261 254.639 224.197C234.803 154.809 169.028 116.81 116.177 86.2748C92.3785 72.5247 69.8987 59.5381 55.0871 45.7173C38.663 30.3955 33.0505 15.4052 37.4191 -1.45462C42 -19.1227 52.8898 -35.5952 69.7944 -50.4142C83.3061 -62.2574 100.669 -73.0766 121.402 -82.5735C156.69 -98.7369 189.959 -105.538 190.294 -105.605L190.309 -105.608C200.424 -106.96 210.267 -107.634 219.816 -107.634ZM356.572 306.88C365.965 306.88 375.242 305.647 384.076 303.312C420.291 293.74 454.115 262.244 442.809 215.702C440.138 204.715 437.386 191.516 434.474 177.546C422.776 121.455 406.75 44.6335 371.149 -15.0371C328.629 -86.3015 269.495 -115.79 190.361 -105.199C189.713 -105.068 156.638 -98.2565 121.57 -82.1936C89.0639 -67.3039 48.1488 -41.1928 37.8213 -1.35406C33.4937 15.3419 39.0689 30.2018 55.3702 45.4081C70.1482 59.1955 92.6057 72.1709 116.385 85.9099C142.943 101.25 173.039 118.639 198.472 140.586C227.682 165.792 246.184 193.103 255.037 224.077C271.897 283.055 315.304 306.88 356.572 306.88Z" fill="url(#paint17_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.1429">
                                <path d="M219.576 -117.984C231.062 -117.984 242.131 -117.057 252.696 -115.202C271.247 -111.947 288.748 -105.742 304.714 -96.7593C333.033 -80.8268 357.725 -55.4346 378.097 -21.2902C415.388 41.2146 432.166 121.656 444.419 180.391C447.47 195.009 450.348 208.819 453.142 220.312C458.445 242.144 454.613 262.698 442.062 279.756C430.666 295.241 412.666 306.869 391.382 312.492C365.103 319.434 336.541 316.38 313.011 304.109C285.496 289.759 265.728 263.886 255.836 229.288C235.073 156.653 166.229 116.881 110.909 84.9229C86.0007 70.5323 62.4744 56.9423 46.9738 42.4809C29.7937 26.4515 23.9205 10.7722 28.4902 -6.85858C33.2834 -25.346 44.6797 -42.582 62.3663 -58.0826C76.5075 -70.477 94.6783 -81.7988 116.372 -91.7352C153.302 -108.647 188.121 -115.768 188.467 -115.839L188.478 -115.843C199.122 -117.273 209.509 -117.984 219.576 -117.984ZM362.489 315.863C372.321 315.863 382.037 314.57 391.285 312.127C429.194 302.105 464.612 269.127 452.773 220.402C449.98 208.901 447.097 195.091 444.047 180.47C431.801 121.76 415.031 41.3561 377.769 -21.0966C333.26 -95.6942 271.359 -126.565 188.527 -115.47C187.901 -115.344 153.258 -108.219 116.521 -91.3926C82.4962 -75.8064 39.6668 -48.4738 28.8552 -6.76547C24.3227 10.7201 30.1624 26.2802 47.2308 42.2053C62.6978 56.6369 86.2093 70.2194 111.095 84.5989C138.886 100.654 170.389 118.855 197.003 141.819C227.569 168.198 246.931 196.775 256.197 229.187C273.843 290.921 319.287 315.863 362.489 315.863Z" fill="url(#paint18_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.0952">
                                <path d="M219.121 -128.326C231.117 -128.326 242.677 -127.358 253.712 -125.422C273.086 -122.021 291.365 -115.541 308.034 -106.159C313.736 -102.953 319.308 -99.3738 324.73 -95.4372C289.771 -120.684 244.926 -133.559 186.686 -125.757C186.064 -125.63 149.86 -118.189 111.466 -100.603C75.9178 -84.3202 31.1742 -55.766 19.8784 -12.188C15.1411 6.08704 21.2452 22.3473 39.0808 38.9911C55.2405 54.0671 79.7985 68.2567 105.794 83.2768C134.821 100.047 167.725 119.056 195.524 143.044C227.448 170.593 247.667 200.439 257.347 234.289C279.983 313.472 346.376 334.715 398.483 320.946C438.098 310.47 475.099 276.013 462.73 225.098C459.814 213.087 456.805 198.659 453.617 183.386C440.198 119.056 422.143 32.5109 381.202 -33.0143C382.371 -31.1485 383.53 -29.2565 384.673 -27.3385C423.625 37.9484 441.152 121.968 453.949 183.319C457.133 198.588 460.142 213.013 463.058 225.016C468.596 247.812 464.596 269.272 451.487 287.081C439.584 303.252 420.791 315.393 398.565 321.267C371.128 328.522 341.296 325.33 316.723 312.515C287.99 297.528 267.347 270.508 257.015 234.379C235.325 158.5 163.409 116.952 105.623 83.5673C79.6086 68.536 55.0357 54.339 38.8462 39.237C20.91 22.5 14.7761 6.13171 19.5469 -12.2738C24.5524 -31.5768 36.4515 -49.5763 54.924 -65.7658C69.6908 -78.7115 88.6698 -90.5361 111.328 -100.916C149.901 -118.58 186.265 -126.017 186.626 -126.092L186.637 -126.096C197.758 -127.582 208.607 -128.326 219.121 -128.326Z" fill="url(#paint19_linear_5151_2486)"/>
                            </g>
                            <g opacity="0.0476">
                                <path d="M218.672 -138.661C231.178 -138.661 243.23 -137.652 254.734 -135.634C274.931 -132.088 293.984 -125.332 311.366 -115.556C327.481 -106.491 342.609 -94.5694 356.333 -80.1266C368.895 -66.9054 380.649 -51.1777 391.267 -33.383C431.876 34.6822 450.148 122.281 463.488 186.246C466.81 202.167 469.946 217.206 472.985 229.723C478.758 253.481 474.587 275.853 460.926 294.414C448.52 311.271 428.93 323.926 405.762 330.049C391.863 333.721 377.517 334.879 363.13 333.49C347.99 332.026 333.63 327.799 320.449 320.924C290.498 305.304 268.976 277.137 258.209 239.474C235.591 160.351 160.603 117.03 100.347 82.2191C73.2231 66.551 47.6075 51.7469 30.729 36.0043C12.033 18.5634 5.64212 1.50613 10.614 -17.6777C15.8281 -37.8001 28.2374 -56.5593 47.492 -73.4378C62.8882 -86.9347 82.6717 -99.2621 106.295 -110.081C146.51 -128.498 184.419 -136.252 184.799 -136.326L184.81 -136.33C196.404 -137.887 207.711 -138.661 218.672 -138.661ZM374.314 333.825C385.029 333.825 395.613 332.417 405.691 329.754C447.004 318.835 485.596 282.895 472.695 229.794C469.652 217.269 466.516 202.231 463.194 186.306C449.857 122.363 431.593 34.7939 391.006 -33.2303C342.519 -114.494 275.087 -148.125 184.855 -136.036C184.256 -135.913 146.48 -128.159 106.422 -109.809C69.3536 -92.8302 22.6919 -63.0545 10.9157 -17.6069C5.97354 1.45401 12.3384 18.4182 30.9449 35.7771C47.7974 51.4973 73.4019 66.2903 100.507 81.9509C130.775 99.4365 165.075 119.257 194.058 144.266C227.334 172.984 248.414 204.1 258.503 239.388C277.732 306.652 327.242 333.825 374.314 333.825Z" fill="url(#paint20_linear_5151_2486)"/>
                            </g>
                        </g>
                        <defs>
                            <linearGradient id="paint0_linear_5151_2486" x1="274.959" y1="111.676" x2="188.958" y2="111.676" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint1_linear_5151_2486" x1="284.984" y1="110.986" x2="179.962" y2="110.986" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint2_linear_5151_2486" x1="295.014" y1="110.29" x2="170.968" y2="110.29" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint3_linear_5151_2486" x1="305.047" y1="109.593" x2="161.976" y2="109.593" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint4_linear_5151_2486" x1="315.07" y1="108.895" x2="152.973" y2="108.895" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint5_linear_5151_2486" x1="325.094" y1="108.199" x2="143.95" y2="108.199" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint6_linear_5151_2486" x1="335.129" y1="107.475" x2="134.961" y2="107.475" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint7_linear_5151_2486" x1="345.158" y1="106.773" x2="125.96" y2="106.773" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint8_linear_5151_2486" x1="355.186" y1="106.075" x2="116.962" y2="106.075" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint9_linear_5151_2486" x1="365.215" y1="105.375" x2="107.962" y2="105.375" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint10_linear_5151_2486" x1="375.244" y1="104.68" x2="98.9713" y2="104.68" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint11_linear_5151_2486" x1="385.258" y1="103.981" x2="89.9662" y2="103.981" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint12_linear_5151_2486" x1="395.287" y1="103.277" x2="80.9786" y2="103.277" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint13_linear_5151_2486" x1="405.316" y1="102.58" x2="71.9835" y2="102.58" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint14_linear_5151_2486" x1="415.346" y1="101.878" x2="62.9852" y2="101.878" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint15_linear_5151_2486" x1="425.373" y1="101.183" x2="53.9898" y2="101.183" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint16_linear_5151_2486" x1="435.398" y1="100.48" x2="44.9873" y2="100.48" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint17_linear_5151_2486" x1="445.428" y1="99.7842" x2="35.9936" y2="99.7842" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint18_linear_5151_2486" x1="455.461" y1="99.0786" x2="26.9994" y2="99.0786" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint19_linear_5151_2486" x1="465.48" y1="98.377" x2="17.9908" y2="98.377" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                            <linearGradient id="paint20_linear_5151_2486" x1="475.51" y1="97.6985" x2="8.99213" y2="97.6985" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#E91A83"/>
                                <stop offset="1" stop-color="#4C24C1"/>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
            </div>
        </div>
        <?php
    endforeach;
endif;
}

function festiva_get_event_grid_layout3($posts = [], $settings = []){ 
    extract($settings);
    $images_size_large = !empty($img_size) ? $img_size : 'full';
    $images_size_small = !empty($img_size) ? $img_size : 'full';
    $author = get_user_by('id', $post->post_author);  
    $author_id = get_the_author_meta('ID');

    if (is_array($posts)):
        foreach ($posts as $key => $post):
            if ($key === 0) :
                $filter_class = !empty($tax) ? pxl_get_term_of_post_to_class($post->ID, array_unique($tax)) : '';
                $img_id = get_post_thumbnail_id($post->ID);

                if ($img_id) {
                    $img = pxl_get_image_by_size([
                        'attach_id'  => $img_id,
                        'thumb_size' => $images_size_large,
                        'class' => 'no-lazyload',
                    ]);
                    $thumbnail = $img['thumbnail'];
                } else {
                    $thumbnail = get_the_post_thumbnail($post->ID, $images_size_large);
                }

                $author = get_user_by('id', $post->post_author);  
                $event_summary  = get_post_meta($post->ID, 'event_summary',true);
                ?>
                <div class="pxl-grid--feature col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="pxl-item--inner <?php echo esc_attr($pxl_animate); ?>" data-wow-duration="1.2s">
                        <?php if (has_post_thumbnail($post->ID) && wp_get_attachment_image_src(get_post_thumbnail_id($post->ID), false)): ?>
                        <div class="pxl-item--featured">
                            <a href="<?php echo esc_url(get_permalink($post->ID)); ?>">
                                <?php echo wp_kses_post($thumbnail); ?></a>
                            </div>
                        <?php endif; ?>
                        <div class="pxl-item--holder"> 
                            <div class="pxl-item--meta">
                                <?php if ($show_date): ?>
                                    <span class="pxl-item--date"><?php echo get_the_date('d', $post->ID); ?></span>
                                    <span class="pxl-item--month"><?php echo get_the_date('F', $post->ID); ?></span>
                                <?php endif; ?>
                            </div>
                            <?php if($show_author =='true'): ?>
                                <div class="pxl-item--author">
                                    <div class="info-author">
                                        <?php echo "By "; ?>
                                        <div class="name"><?php the_author_posts_link(); ?></div>
                                    </div>
                                </div>
                            <?php endif; ?>
                            <h5 class="pxl-item--title">
                                <a href="<?php echo esc_url(get_permalink($post->ID)); ?>"><?php echo esc_html(get_the_title($post->ID)); ?></a>
                            </h5>
                            <?php if(!empty($event_summary)) : ?>
                                <div class="pxl-item--summary">
                                    <?php echo pxl_print_html($event_summary); ?>
                                </div>
                            <?php endif; ?>
                            <?php if ($show_button === 'true'): ?>
                                <div class="pxl-item--readmore">
                                    <a class="btn-readmore" href="<?php echo esc_url(get_permalink($post->ID)); ?>">
                                        <span>
                                            <?php echo !empty($button_text) ? esc_html($button_text) : esc_html__('Read More', 'festiva'); ?>
                                        </span>
                                    </a>
                                </div>
                            <?php endif; ?>
                        </div>
                    </div>
                </div>
                <?php
            endif;
        endforeach;
        ?>
        <div class="pxl-grid--items col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
            <?php
            foreach ($posts as $key => $post):
                if ($key >= 1) :
                    $filter_class = !empty($tax) ? pxl_get_term_of_post_to_class($post->ID, array_unique($tax)) : '';
                    $img_id = get_post_thumbnail_id($post->ID);

                    if ($img_id) {
                        $img = pxl_get_image_by_size([
                            'attach_id'  => $img_id,
                            'thumb_size' => $images_size_small,
                            'class' => 'no-lazyload',
                        ]);
                        $thumbnail = $img['thumbnail'];
                    } else {
                        $thumbnail = get_the_post_thumbnail($post->ID, $images_size_small);
                    }
                    $author = get_user_by('id', $post->post_author);  
                    $avatar = get_avatar($post->post_author, 100);
                    ?>
                    <div class="pxl-item--grid ">
                        <div class="pxl-item--inner <?php echo esc_attr($pxl_animate); ?>" data-wow-duration="1.2s">
                            <?php if (has_post_thumbnail($post->ID) && wp_get_attachment_image_src(get_post_thumbnail_id($post->ID), false)): ?>
                            <div class="pxl-item--featured">
                                <a href="<?php echo esc_url(get_permalink($post->ID)); ?>">
                                    <?php echo wp_kses_post($thumbnail); ?></a>
                                </div>
                            <?php endif; ?>
                            <div class="pxl-item--holder"> 
                                <div class="pxl-item--meta">
                                    <?php if ($show_date): ?>
                                        <span class="pxl-item--date"><?php echo get_the_date('d', $post->ID); ?></span>
                                        <span class="pxl-item--month"><?php echo get_the_date('F', $post->ID); ?></span>
                                    <?php endif; ?>
                                </div>
                                <?php if($show_author =='true'): ?>
                                    <div class="pxl-item--author">
                                        <div class="info-author">
                                            <?php echo "By "; ?>
                                            <div class="name"><?php the_author_posts_link(); ?></div>
                                        </div>
                                    </div>
                                <?php endif; ?>
                                <h5 class="pxl-item--title"><a href="<?php echo esc_url(get_permalink($post->ID)); ?>"><?php echo esc_html(get_the_title($post->ID)); ?></a></h5>
                                <div class="item--content">
                                    <?php echo wp_trim_words($post->post_excerpt, $num_words, $more = null); ?>
                                </div>
                            </div>
                        </div>
                    </div>
                    <?php
                endif;
            endforeach;
            ?>
        </div>
        <?php
    endif;
}
// End Event Grid
//-------------------------------------------------

add_action( 'wp_ajax_festiva_get_pagination_html', 'festiva_get_pagination_html' );
add_action( 'wp_ajax_nopriv_festiva_get_pagination_html', 'festiva_get_pagination_html' );
function festiva_get_pagination_html(){
    try{
        if(!isset($_POST['query_vars'])){
            throw new Exception(__('Something went wrong while requesting. Please try again!', 'festiva'));
        }
        $query = new WP_Query($_POST['query_vars']);
        ob_start();
        festiva()->page->get_pagination( $query,  true );
        $html = ob_get_clean();
        wp_send_json(
            array(
                'status' => true,
                'message' => esc_attr__('Load Successfully!', 'festiva'),
                'data' => array(
                    'html' => $html,
                    'query_vars' => $_POST['query_vars'],
                    'post' => $query->have_posts()
                ),
            )
        );
    }
    catch (Exception $e){
        wp_send_json(array('status' => false, 'message' => $e->getMessage()));
    }
    die;
}

add_action( 'wp_ajax_festiva_load_more_post_grid', 'festiva_load_more_post_grid' );
add_action( 'wp_ajax_nopriv_festiva_load_more_post_grid', 'festiva_load_more_post_grid' );
function festiva_load_more_post_grid(){
    try{
        if(!isset($_POST['settings'])){
            throw new Exception(__('Something went wrong while requesting. Please try again!', 'festiva'));
        }
        $settings = $_POST['settings'];
        set_query_var('paged', $settings['paged']);
        extract(pxl_get_posts_of_grid($settings['post_type'], [
            'source' => isset($settings['source'])?$settings['source']:'',
            'orderby' => isset($settings['orderby'])?$settings['orderby']:'date',
            'order' => isset($settings['order'])?$settings['order']:'desc',
            'limit' => isset($settings['limit'])?$settings['limit']:'6',
            'post_ids' => isset($settings['post_ids'])?$settings['post_ids']:[],
        ]));
        ob_start();
        
        festiva_get_post_grid($posts, $settings);
        $html = ob_get_clean();
        wp_send_json(
            array(
                'status' => true,
                'message' => esc_attr__('Load Successfully!', 'festiva'),
                'data' => array(
                    'html' => $html,
                    'paged' => $settings['paged'],
                    'posts' => $posts,
                    'max' => $max,
                ),
            )
        );
    }
    catch (Exception $e){
        wp_send_json(array('status' => false, 'message' => $e->getMessage()));
    }
    die;
}

add_action( 'wp_ajax_festiva_get_filter_html', 'festiva_get_filter_html' );
add_action( 'wp_ajax_nopriv_festiva_get_filter_html', 'festiva_get_filter_html' );
function festiva_get_filter_html(){
    try{
        if(!isset($_POST['settings'])){
            throw new Exception(__('Something went wrong while requesting. Please try again!', 'festiva'));
        }
        $settings = $_POST['settings'];
        $loadmore_filter = $_POST['loadmore_filter'];
        if($loadmore_filter == '1'){
            set_query_var('paged', 1);
            $limit = isset($settings['limit'])?$settings['limit']:'6';
            $limitx = (int)$limit * (int)$settings['paged'];
        }else{
            set_query_var('paged', $settings['paged']);
            $limitx = isset($settings['limit'])?$settings['limit']:'6';
        }
        extract(pxl_get_posts_of_grid($settings['post_type'], [
            'source' => isset($settings['source'])?$settings['source']:'',
            'orderby' => isset($settings['orderby'])?$settings['orderby']:'date',
            'order' => isset($settings['order'])?$settings['order']:'desc',
            'limit' => $limitx,
            'post_ids' => isset($settings['post_ids'])?$settings['post_ids']: [],
        ],
        $settings['tax']
    ));
    ob_start(); ?>
    
    <span class="filter-item active" data-filter="*">
        <?php echo esc_html($settings['filter_default_title']); ?>
        <?php if($settings['show_cat_count'] == '1'): ?>
            <span class="filter-item-count"><?php echo count($posts); ?></span> 
        <?php endif; ?>
    </span>
    <?php foreach ($categories as $category):
        $category_arr = explode('|', $category);
        $term = get_term_by('slug',$category_arr[0], $category_arr[1]);
        $tax_count = 0;
        foreach ($posts as $key => $post){
            $this_terms = get_the_terms( $post->ID,  $settings['tax'][0] );
            $term_list = [];
            foreach ($this_terms as $t) {
                $term_list[] = $t->slug;
            } 
            if(in_array($term->slug,$term_list))
                $tax_count++;
        } 
        if($tax_count > 0): ?>
            <span class="filter-item" data-filter="<?php echo esc_attr('.' . $term->slug); ?>">
                <?php echo esc_html($term->name); ?>
                <?php if($settings['show_cat_count'] == '1'): ?>
                    <span class="filter-item-count"><?php echo pxl_print_html($tax_count); ?></span> 
                <?php endif; ?>
            </span>
        <?php endif; ?>
    <?php endforeach; ?>

    <?php $html = ob_get_clean();
    wp_send_json(
        array(
            'status' => true,
            'message' => esc_attr__('Load Successfully!', 'festiva'),
            'data' => array(
                'html' => $html,
                'paged' => $settings['paged'],
                'posts' => $posts,
                'max' => $max,
            ),
        )
    );
}
catch (Exception $e){
    wp_send_json(array('status' => false, 'message' => $e->getMessage()));
}
die;
}